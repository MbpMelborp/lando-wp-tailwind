"use strict";(self.webpackChunkgust_builder=self.webpackChunkgust_builder||[]).push([[624],{26434:(e,t,r)=>{e=r.nmd(e);const n=(e,t)=>(...r)=>`[${e(...r)+t}m`,o=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};5;${n}m`},l=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},s=e=>e,i=(e,t,r)=>[e,t,r],a=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{const n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let c;const u=(e,t,n,o)=>{void 0===c&&(c=r(12085));const l=o?10:0,s={};for(const[r,o]of Object.entries(c)){const i="ansi16"===r?"ansi":r;r===t?s[i]=e(n,l):"object"==typeof o&&(s[i]=e(o[t],l))}return s};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[r,n]of Object.entries(t)){for(const[r,o]of Object.entries(n))t[r]={open:`[${o[0]}m`,close:`[${o[1]}m`},n[r]=t[r],e.set(o[0],o[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",a(t.color,"ansi",(()=>u(n,"ansi16",s,!1))),a(t.color,"ansi256",(()=>u(o,"ansi256",s,!1))),a(t.color,"ansi16m",(()=>u(l,"rgb",i,!1))),a(t.bgColor,"ansi",(()=>u(n,"ansi16",s,!0))),a(t.bgColor,"ansi256",(()=>u(o,"ansi256",s,!0))),a(t.bgColor,"ansi16m",(()=>u(l,"rgb",i,!0))),t}})},8555:e=>{e.exports={stdout:!1,stderr:!1}},22624:(e,t,r)=>{var n=r(34155);Object.defineProperty(t,"__esModule",{value:!0}),t.flagEnabled=function(e,t){return a.future.includes(t)?"all"===e.future||o.default.get(e,["future",t],!1):!!a.experimental.includes(t)&&("all"===e.experimental||o.default.get(e,["experimental",t],!1))},t.issueFlagNotices=function(e){if(void 0===n.env.JEST_WORKER_ID&&c(e).length>0){const t=c(e).map((e=>l.default.yellow(e))).join(", ");s.default.warn([`You have enabled experimental features: ${t}`,"Experimental features are not covered by semver, may introduce breaking changes, and can change at any time."])}},t.default=void 0;var o=i(r(96486)),l=i(r(8290)),s=i(r(51679));function i(e){return e&&e.__esModule?e:{default:e}}const a={future:[],experimental:["optimizeUniversalDefaults"]};function c(e){return"all"===e.experimental?a.experimental:Object.keys(o.default.get(e,"experimental",{})).filter((t=>a.experimental.includes(t)&&e.experimental[t]))}var u=a;t.default=u},51679:(e,t,r)=>{var n=r(34155);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l=(o=r(8290))&&o.__esModule?o:{default:o},s={info(e){void 0===n.env.JEST_WORKER_ID&&(console.warn(""),e.forEach((e=>{console.warn(l.default.bold.cyan("info"),"-",e)})))},warn(e){void 0===n.env.JEST_WORKER_ID&&(console.warn(""),e.forEach((e=>{console.warn(l.default.bold.yellow("warn"),"-",e)})))},risk(e){void 0===n.env.JEST_WORKER_ID&&(console.warn(""),e.forEach((e=>{console.warn(l.default.bold.magenta("risk"),"-",e)})))}};t.default=s},8290:(e,t,r)=>{const n=r(26434),{stdout:o,stderr:l}=r(8555),{stringReplaceAll:s,stringEncaseCRLFWithFirstIndex:i}=r(8489),{isArray:a}=Array,c=["ansi","ansi","ansi256","ansi16m"],u=Object.create(null);class g{constructor(e){return f(e)}}const f=e=>{const t={};return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=o?o.level:0;e.level=void 0===t.level?r:t.level})(t,e),t.template=(...e)=>w(t.template,...e),Object.setPrototypeOf(t,h.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=g,t.template};function h(e){return f(e)}for(const[e,t]of Object.entries(n))u[e]={get(){const r=m(this,p(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};u.visible={get(){const e=m(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const b=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of b)u[e]={get(){const{level:t}=this;return function(...r){const o=p(n.color[c[t]][e](...r),n.color.close,this._styler);return m(this,o,this._isEmpty)}}};for(const e of b)u["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...r){const o=p(n.bgColor[c[t]][e](...r),n.bgColor.close,this._styler);return m(this,o,this._isEmpty)}}};const d=Object.defineProperties((()=>{}),{...u,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),p=(e,t,r)=>{let n,o;return void 0===r?(n=e,o=t):(n=r.openAll+e,o=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:o,parent:r}},m=(e,t,r)=>{const n=(...e)=>a(e[0])&&a(e[0].raw)?v(n,w(n,...e)):v(n,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(n,d),n._generator=e,n._styler=t,n._isEmpty=r,n},v=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(void 0===r)return t;const{openAll:n,closeAll:o}=r;if(-1!==t.indexOf(""))for(;void 0!==r;)t=s(t,r.close,r.open),r=r.parent;const l=t.indexOf("\n");return-1!==l&&(t=i(t,o,n,l)),n+t+o};let y;const w=(e,...t)=>{const[n]=t;if(!a(n)||!a(n.raw))return t.join(" ");const o=t.slice(1),l=[n.raw[0]];for(let e=1;e<n.length;e++)l.push(String(o[e-1]).replace(/[{}\\]/g,"\\$&"),String(n.raw[e]));return void 0===y&&(y=r(35348)),y(e,l.join(""))};Object.defineProperties(h.prototype,u);const O=h();O.supportsColor=o,O.stderr=h({level:l?l.level:0}),O.stderr.supportsColor=l,e.exports=O},35348:e=>{const t=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,r=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,n=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,o=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,l=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function s(e){const t="u"===e[0],r="{"===e[1];return t&&!r&&5===e.length||"x"===e[0]&&3===e.length?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):l.get(e)||e}function i(e,t){const r=[],l=t.trim().split(/\s*,\s*/g);let i;for(const t of l){const l=Number(t);if(Number.isNaN(l)){if(!(i=t.match(n)))throw new Error(`Invalid Chalk template style argument: ${t} (in style '${e}')`);r.push(i[2].replace(o,((e,t,r)=>t?s(t):r)))}else r.push(l)}return r}function a(e){r.lastIndex=0;const t=[];let n;for(;null!==(n=r.exec(e));){const e=n[1];if(n[2]){const r=i(e,n[2]);t.push([e].concat(r))}else t.push([e])}return t}function c(e,t){const r={};for(const e of t)for(const t of e.styles)r[t[0]]=e.inverse?null:t.slice(1);let n=e;for(const[e,t]of Object.entries(r))if(Array.isArray(t)){if(!(e in n))throw new Error(`Unknown Chalk style: ${e}`);n=t.length>0?n[e](...t):n[e]}return n}e.exports=(e,r)=>{const n=[],o=[];let l=[];if(r.replace(t,((t,r,i,u,g,f)=>{if(r)l.push(s(r));else if(u){const t=l.join("");l=[],o.push(0===n.length?t:c(e,n)(t)),n.push({inverse:i,styles:a(u)})}else if(g){if(0===n.length)throw new Error("Found extraneous } in Chalk template literal");o.push(c(e,n)(l.join(""))),l=[],n.pop()}else l.push(f)})),o.push(l.join("")),n.length>0){const e=`Chalk template literal is missing ${n.length} closing bracket${1===n.length?"":"s"} (\`}\`)`;throw new Error(e)}return o.join("")}},8489:e=>{e.exports={stringReplaceAll:(e,t,r)=>{let n=e.indexOf(t);if(-1===n)return e;const o=t.length;let l=0,s="";do{s+=e.substr(l,n-l)+t+r,l=n+o,n=e.indexOf(t,l)}while(-1!==n);return s+=e.substr(l),s},stringEncaseCRLFWithFirstIndex:(e,t,r,n)=>{let o=0,l="";do{const s="\r"===e[n-1];l+=e.substr(o,(s?n-1:n)-o)+t+(s?"\r\n":"\n")+r,o=n+1,n=e.indexOf("\n",o)}while(-1!==n);return l+=e.substr(o),l}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxFQUdSLE1BQU1tRCxFQUFrQkgsRUFBVXBILE9BQ2xDLElBQUl3SCxFQUFXLEVBQ1hDLEVBQWMsR0FDbEIsR0FDQ0EsR0FBZXJELEVBQU9zRCxPQUFPRixFQUFVRixFQUFRRSxHQUFZSixFQUFZQyxFQUN2RUcsRUFBV0YsRUFBUUMsRUFDbkJELEVBQVFsRCxFQUFPQyxRQUFRK0MsRUFBV0ksVUFDZixJQUFYRixHQUdULE9BREFHLEdBQWVyRCxFQUFPc0QsT0FBT0YsR0FDdEJDLEdBbUJQakcsK0JBaEJzQyxDQUFDNEMsRUFBUXVELEVBQVFDLEVBQVNOLEtBQ2hFLElBQUlFLEVBQVcsRUFDWEMsRUFBYyxHQUNsQixFQUFHLENBQ0YsTUFBTUksRUFBOEIsT0FBdEJ6RCxFQUFPa0QsRUFBUSxHQUM3QkcsR0FBZXJELEVBQU9zRCxPQUFPRixHQUFXSyxFQUFRUCxFQUFRLEVBQUlBLEdBQVNFLEdBQVlHLEdBQVVFLEVBQVEsT0FBUyxNQUFRRCxFQUNwSEosRUFBV0YsRUFBUSxFQUNuQkEsRUFBUWxELEVBQU9DLFFBQVEsS0FBTW1ELFVBQ1YsSUFBWEYsR0FHVCxPQURBRyxHQUFlckQsRUFBT3NELE9BQU9GLEdBQ3RCQyIsInNvdXJjZXMiOlsid2VicGFjazovL2d1c3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy9hbnNpLXN0eWxlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9ndXN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvc3VwcG9ydHMtY29sb3IvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9ndXN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvdGFpbHdpbmRjc3MvbGliL2ZlYXR1cmVGbGFncy5qcyIsIndlYnBhY2s6Ly9ndXN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvdGFpbHdpbmRjc3MvbGliL3V0aWwvbG9nLmpzIiwid2VicGFjazovL2d1c3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy90YWlsd2luZGNzcy9ub2RlX21vZHVsZXMvY2hhbGsvc291cmNlL2luZGV4LmpzIiwid2VicGFjazovL2d1c3QtYnVpbGRlci8uL25vZGVfbW9kdWxlcy90YWlsd2luZGNzcy9ub2RlX21vZHVsZXMvY2hhbGsvc291cmNlL3RlbXBsYXRlcy5qcyIsIndlYnBhY2s6Ly9ndXN0LWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvdGFpbHdpbmRjc3Mvbm9kZV9tb2R1bGVzL2NoYWxrL3NvdXJjZS91dGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3Qgd3JhcEFuc2kxNiA9IChmbiwgb2Zmc2V0KSA9PiAoLi4uYXJncykgPT4ge1xuXHRjb25zdCBjb2RlID0gZm4oLi4uYXJncyk7XG5cdHJldHVybiBgXFx1MDAxQlske2NvZGUgKyBvZmZzZXR9bWA7XG59O1xuXG5jb25zdCB3cmFwQW5zaTI1NiA9IChmbiwgb2Zmc2V0KSA9PiAoLi4uYXJncykgPT4ge1xuXHRjb25zdCBjb2RlID0gZm4oLi4uYXJncyk7XG5cdHJldHVybiBgXFx1MDAxQlskezM4ICsgb2Zmc2V0fTs1OyR7Y29kZX1tYDtcbn07XG5cbmNvbnN0IHdyYXBBbnNpMTZtID0gKGZuLCBvZmZzZXQpID0+ICguLi5hcmdzKSA9PiB7XG5cdGNvbnN0IHJnYiA9IGZuKC4uLmFyZ3MpO1xuXHRyZXR1cm4gYFxcdTAwMUJbJHszOCArIG9mZnNldH07Mjske3JnYlswXX07JHtyZ2JbMV19OyR7cmdiWzJdfW1gO1xufTtcblxuY29uc3QgYW5zaTJhbnNpID0gbiA9PiBuO1xuY29uc3QgcmdiMnJnYiA9IChyLCBnLCBiKSA9PiBbciwgZywgYl07XG5cbmNvbnN0IHNldExhenlQcm9wZXJ0eSA9IChvYmplY3QsIHByb3BlcnR5LCBnZXQpID0+IHtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHtcblx0XHRnZXQ6ICgpID0+IHtcblx0XHRcdGNvbnN0IHZhbHVlID0gZ2V0KCk7XG5cblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCB7XG5cdFx0XHRcdHZhbHVlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fSxcblx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHR9KTtcbn07XG5cbi8qKiBAdHlwZSB7dHlwZW9mIGltcG9ydCgnY29sb3ItY29udmVydCcpfSAqL1xubGV0IGNvbG9yQ29udmVydDtcbmNvbnN0IG1ha2VEeW5hbWljU3R5bGVzID0gKHdyYXAsIHRhcmdldFNwYWNlLCBpZGVudGl0eSwgaXNCYWNrZ3JvdW5kKSA9PiB7XG5cdGlmIChjb2xvckNvbnZlcnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdGNvbG9yQ29udmVydCA9IHJlcXVpcmUoJ2NvbG9yLWNvbnZlcnQnKTtcblx0fVxuXG5cdGNvbnN0IG9mZnNldCA9IGlzQmFja2dyb3VuZCA/IDEwIDogMDtcblx0Y29uc3Qgc3R5bGVzID0ge307XG5cblx0Zm9yIChjb25zdCBbc291cmNlU3BhY2UsIHN1aXRlXSBvZiBPYmplY3QuZW50cmllcyhjb2xvckNvbnZlcnQpKSB7XG5cdFx0Y29uc3QgbmFtZSA9IHNvdXJjZVNwYWNlID09PSAnYW5zaTE2JyA/ICdhbnNpJyA6IHNvdXJjZVNwYWNlO1xuXHRcdGlmIChzb3VyY2VTcGFjZSA9PT0gdGFyZ2V0U3BhY2UpIHtcblx0XHRcdHN0eWxlc1tuYW1lXSA9IHdyYXAoaWRlbnRpdHksIG9mZnNldCk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2Ygc3VpdGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRzdHlsZXNbbmFtZV0gPSB3cmFwKHN1aXRlW3RhcmdldFNwYWNlXSwgb2Zmc2V0KTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufTtcblxuZnVuY3Rpb24gYXNzZW1ibGVTdHlsZXMoKSB7XG5cdGNvbnN0IGNvZGVzID0gbmV3IE1hcCgpO1xuXHRjb25zdCBzdHlsZXMgPSB7XG5cdFx0bW9kaWZpZXI6IHtcblx0XHRcdHJlc2V0OiBbMCwgMF0sXG5cdFx0XHQvLyAyMSBpc24ndCB3aWRlbHkgc3VwcG9ydGVkIGFuZCAyMiBkb2VzIHRoZSBzYW1lIHRoaW5nXG5cdFx0XHRib2xkOiBbMSwgMjJdLFxuXHRcdFx0ZGltOiBbMiwgMjJdLFxuXHRcdFx0aXRhbGljOiBbMywgMjNdLFxuXHRcdFx0dW5kZXJsaW5lOiBbNCwgMjRdLFxuXHRcdFx0aW52ZXJzZTogWzcsIDI3XSxcblx0XHRcdGhpZGRlbjogWzgsIDI4XSxcblx0XHRcdHN0cmlrZXRocm91Z2g6IFs5LCAyOV1cblx0XHR9LFxuXHRcdGNvbG9yOiB7XG5cdFx0XHRibGFjazogWzMwLCAzOV0sXG5cdFx0XHRyZWQ6IFszMSwgMzldLFxuXHRcdFx0Z3JlZW46IFszMiwgMzldLFxuXHRcdFx0eWVsbG93OiBbMzMsIDM5XSxcblx0XHRcdGJsdWU6IFszNCwgMzldLFxuXHRcdFx0bWFnZW50YTogWzM1LCAzOV0sXG5cdFx0XHRjeWFuOiBbMzYsIDM5XSxcblx0XHRcdHdoaXRlOiBbMzcsIDM5XSxcblxuXHRcdFx0Ly8gQnJpZ2h0IGNvbG9yXG5cdFx0XHRibGFja0JyaWdodDogWzkwLCAzOV0sXG5cdFx0XHRyZWRCcmlnaHQ6IFs5MSwgMzldLFxuXHRcdFx0Z3JlZW5CcmlnaHQ6IFs5MiwgMzldLFxuXHRcdFx0eWVsbG93QnJpZ2h0OiBbOTMsIDM5XSxcblx0XHRcdGJsdWVCcmlnaHQ6IFs5NCwgMzldLFxuXHRcdFx0bWFnZW50YUJyaWdodDogWzk1LCAzOV0sXG5cdFx0XHRjeWFuQnJpZ2h0OiBbOTYsIDM5XSxcblx0XHRcdHdoaXRlQnJpZ2h0OiBbOTcsIDM5XVxuXHRcdH0sXG5cdFx0YmdDb2xvcjoge1xuXHRcdFx0YmdCbGFjazogWzQwLCA0OV0sXG5cdFx0XHRiZ1JlZDogWzQxLCA0OV0sXG5cdFx0XHRiZ0dyZWVuOiBbNDIsIDQ5XSxcblx0XHRcdGJnWWVsbG93OiBbNDMsIDQ5XSxcblx0XHRcdGJnQmx1ZTogWzQ0LCA0OV0sXG5cdFx0XHRiZ01hZ2VudGE6IFs0NSwgNDldLFxuXHRcdFx0YmdDeWFuOiBbNDYsIDQ5XSxcblx0XHRcdGJnV2hpdGU6IFs0NywgNDldLFxuXG5cdFx0XHQvLyBCcmlnaHQgY29sb3Jcblx0XHRcdGJnQmxhY2tCcmlnaHQ6IFsxMDAsIDQ5XSxcblx0XHRcdGJnUmVkQnJpZ2h0OiBbMTAxLCA0OV0sXG5cdFx0XHRiZ0dyZWVuQnJpZ2h0OiBbMTAyLCA0OV0sXG5cdFx0XHRiZ1llbGxvd0JyaWdodDogWzEwMywgNDldLFxuXHRcdFx0YmdCbHVlQnJpZ2h0OiBbMTA0LCA0OV0sXG5cdFx0XHRiZ01hZ2VudGFCcmlnaHQ6IFsxMDUsIDQ5XSxcblx0XHRcdGJnQ3lhbkJyaWdodDogWzEwNiwgNDldLFxuXHRcdFx0YmdXaGl0ZUJyaWdodDogWzEwNywgNDldXG5cdFx0fVxuXHR9O1xuXG5cdC8vIEFsaWFzIGJyaWdodCBibGFjayBhcyBncmF5IChhbmQgZ3JleSlcblx0c3R5bGVzLmNvbG9yLmdyYXkgPSBzdHlsZXMuY29sb3IuYmxhY2tCcmlnaHQ7XG5cdHN0eWxlcy5iZ0NvbG9yLmJnR3JheSA9IHN0eWxlcy5iZ0NvbG9yLmJnQmxhY2tCcmlnaHQ7XG5cdHN0eWxlcy5jb2xvci5ncmV5ID0gc3R5bGVzLmNvbG9yLmJsYWNrQnJpZ2h0O1xuXHRzdHlsZXMuYmdDb2xvci5iZ0dyZXkgPSBzdHlsZXMuYmdDb2xvci5iZ0JsYWNrQnJpZ2h0O1xuXG5cdGZvciAoY29uc3QgW2dyb3VwTmFtZSwgZ3JvdXBdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlcykpIHtcblx0XHRmb3IgKGNvbnN0IFtzdHlsZU5hbWUsIHN0eWxlXSBvZiBPYmplY3QuZW50cmllcyhncm91cCkpIHtcblx0XHRcdHN0eWxlc1tzdHlsZU5hbWVdID0ge1xuXHRcdFx0XHRvcGVuOiBgXFx1MDAxQlske3N0eWxlWzBdfW1gLFxuXHRcdFx0XHRjbG9zZTogYFxcdTAwMUJbJHtzdHlsZVsxXX1tYFxuXHRcdFx0fTtcblxuXHRcdFx0Z3JvdXBbc3R5bGVOYW1lXSA9IHN0eWxlc1tzdHlsZU5hbWVdO1xuXG5cdFx0XHRjb2Rlcy5zZXQoc3R5bGVbMF0sIHN0eWxlWzFdKTtcblx0XHR9XG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoc3R5bGVzLCBncm91cE5hbWUsIHtcblx0XHRcdHZhbHVlOiBncm91cCxcblx0XHRcdGVudW1lcmFibGU6IGZhbHNlXG5cdFx0fSk7XG5cdH1cblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoc3R5bGVzLCAnY29kZXMnLCB7XG5cdFx0dmFsdWU6IGNvZGVzLFxuXHRcdGVudW1lcmFibGU6IGZhbHNlXG5cdH0pO1xuXG5cdHN0eWxlcy5jb2xvci5jbG9zZSA9ICdcXHUwMDFCWzM5bSc7XG5cdHN0eWxlcy5iZ0NvbG9yLmNsb3NlID0gJ1xcdTAwMUJbNDltJztcblxuXHRzZXRMYXp5UHJvcGVydHkoc3R5bGVzLmNvbG9yLCAnYW5zaScsICgpID0+IG1ha2VEeW5hbWljU3R5bGVzKHdyYXBBbnNpMTYsICdhbnNpMTYnLCBhbnNpMmFuc2ksIGZhbHNlKSk7XG5cdHNldExhenlQcm9wZXJ0eShzdHlsZXMuY29sb3IsICdhbnNpMjU2JywgKCkgPT4gbWFrZUR5bmFtaWNTdHlsZXMod3JhcEFuc2kyNTYsICdhbnNpMjU2JywgYW5zaTJhbnNpLCBmYWxzZSkpO1xuXHRzZXRMYXp5UHJvcGVydHkoc3R5bGVzLmNvbG9yLCAnYW5zaTE2bScsICgpID0+IG1ha2VEeW5hbWljU3R5bGVzKHdyYXBBbnNpMTZtLCAncmdiJywgcmdiMnJnYiwgZmFsc2UpKTtcblx0c2V0TGF6eVByb3BlcnR5KHN0eWxlcy5iZ0NvbG9yLCAnYW5zaScsICgpID0+IG1ha2VEeW5hbWljU3R5bGVzKHdyYXBBbnNpMTYsICdhbnNpMTYnLCBhbnNpMmFuc2ksIHRydWUpKTtcblx0c2V0TGF6eVByb3BlcnR5KHN0eWxlcy5iZ0NvbG9yLCAnYW5zaTI1NicsICgpID0+IG1ha2VEeW5hbWljU3R5bGVzKHdyYXBBbnNpMjU2LCAnYW5zaTI1NicsIGFuc2kyYW5zaSwgdHJ1ZSkpO1xuXHRzZXRMYXp5UHJvcGVydHkoc3R5bGVzLmJnQ29sb3IsICdhbnNpMTZtJywgKCkgPT4gbWFrZUR5bmFtaWNTdHlsZXMod3JhcEFuc2kxNm0sICdyZ2InLCByZ2IycmdiLCB0cnVlKSk7XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuLy8gTWFrZSB0aGUgZXhwb3J0IGltbXV0YWJsZVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgJ2V4cG9ydHMnLCB7XG5cdGVudW1lcmFibGU6IHRydWUsXG5cdGdldDogYXNzZW1ibGVTdHlsZXNcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSB7XG5cdHN0ZG91dDogZmFsc2UsXG5cdHN0ZGVycjogZmFsc2Vcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZmxhZ0VuYWJsZWQgPSBmbGFnRW5hYmxlZDtcbmV4cG9ydHMuaXNzdWVGbGFnTm90aWNlcyA9IGlzc3VlRmxhZ05vdGljZXM7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfbG9kYXNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwibG9kYXNoXCIpKTtcblxudmFyIF9jaGFsayA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImNoYWxrXCIpKTtcblxudmFyIF9sb2cgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWwvbG9nXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuY29uc3QgZmVhdHVyZUZsYWdzID0ge1xuICBmdXR1cmU6IFtdLFxuICBleHBlcmltZW50YWw6IFsnb3B0aW1pemVVbml2ZXJzYWxEZWZhdWx0cyddXG59O1xuXG5mdW5jdGlvbiBmbGFnRW5hYmxlZChjb25maWcsIGZsYWcpIHtcbiAgaWYgKGZlYXR1cmVGbGFncy5mdXR1cmUuaW5jbHVkZXMoZmxhZykpIHtcbiAgICByZXR1cm4gY29uZmlnLmZ1dHVyZSA9PT0gJ2FsbCcgfHwgX2xvZGFzaC5kZWZhdWx0LmdldChjb25maWcsIFsnZnV0dXJlJywgZmxhZ10sIGZhbHNlKTtcbiAgfVxuXG4gIGlmIChmZWF0dXJlRmxhZ3MuZXhwZXJpbWVudGFsLmluY2x1ZGVzKGZsYWcpKSB7XG4gICAgcmV0dXJuIGNvbmZpZy5leHBlcmltZW50YWwgPT09ICdhbGwnIHx8IF9sb2Rhc2guZGVmYXVsdC5nZXQoY29uZmlnLCBbJ2V4cGVyaW1lbnRhbCcsIGZsYWddLCBmYWxzZSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGV4cGVyaW1lbnRhbEZsYWdzRW5hYmxlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5leHBlcmltZW50YWwgPT09ICdhbGwnKSB7XG4gICAgcmV0dXJuIGZlYXR1cmVGbGFncy5leHBlcmltZW50YWw7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmtleXMoX2xvZGFzaC5kZWZhdWx0LmdldChjb25maWcsICdleHBlcmltZW50YWwnLCB7fSkpLmZpbHRlcihmbGFnID0+IGZlYXR1cmVGbGFncy5leHBlcmltZW50YWwuaW5jbHVkZXMoZmxhZykgJiYgY29uZmlnLmV4cGVyaW1lbnRhbFtmbGFnXSk7XG59XG5cbmZ1bmN0aW9uIGlzc3VlRmxhZ05vdGljZXMoY29uZmlnKSB7XG4gIGlmIChwcm9jZXNzLmVudi5KRVNUX1dPUktFUl9JRCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGV4cGVyaW1lbnRhbEZsYWdzRW5hYmxlZChjb25maWcpLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBjaGFuZ2VzID0gZXhwZXJpbWVudGFsRmxhZ3NFbmFibGVkKGNvbmZpZykubWFwKHMgPT4gX2NoYWxrLmRlZmF1bHQueWVsbG93KHMpKS5qb2luKCcsICcpO1xuXG4gICAgX2xvZy5kZWZhdWx0Lndhcm4oW2BZb3UgaGF2ZSBlbmFibGVkIGV4cGVyaW1lbnRhbCBmZWF0dXJlczogJHtjaGFuZ2VzfWAsICdFeHBlcmltZW50YWwgZmVhdHVyZXMgYXJlIG5vdCBjb3ZlcmVkIGJ5IHNlbXZlciwgbWF5IGludHJvZHVjZSBicmVha2luZyBjaGFuZ2VzLCBhbmQgY2FuIGNoYW5nZSBhdCBhbnkgdGltZS4nXSk7XG4gIH1cbn1cblxudmFyIF9kZWZhdWx0ID0gZmVhdHVyZUZsYWdzO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfY2hhbGsgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJjaGFsa1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IHtcbiAgaW5mbyhtZXNzYWdlcykge1xuICAgIGlmIChwcm9jZXNzLmVudi5KRVNUX1dPUktFUl9JRCAhPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgY29uc29sZS53YXJuKCcnKTtcbiAgICBtZXNzYWdlcy5mb3JFYWNoKG1lc3NhZ2UgPT4ge1xuICAgICAgY29uc29sZS53YXJuKF9jaGFsay5kZWZhdWx0LmJvbGQuY3lhbignaW5mbycpLCAnLScsIG1lc3NhZ2UpO1xuICAgIH0pO1xuICB9LFxuXG4gIHdhcm4obWVzc2FnZXMpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuSkVTVF9XT1JLRVJfSUQgIT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGNvbnNvbGUud2FybignJyk7XG4gICAgbWVzc2FnZXMuZm9yRWFjaChtZXNzYWdlID0+IHtcbiAgICAgIGNvbnNvbGUud2FybihfY2hhbGsuZGVmYXVsdC5ib2xkLnllbGxvdygnd2FybicpLCAnLScsIG1lc3NhZ2UpO1xuICAgIH0pO1xuICB9LFxuXG4gIHJpc2sobWVzc2FnZXMpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuSkVTVF9XT1JLRVJfSUQgIT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGNvbnNvbGUud2FybignJyk7XG4gICAgbWVzc2FnZXMuZm9yRWFjaChtZXNzYWdlID0+IHtcbiAgICAgIGNvbnNvbGUud2FybihfY2hhbGsuZGVmYXVsdC5ib2xkLm1hZ2VudGEoJ3Jpc2snKSwgJy0nLCBtZXNzYWdlKTtcbiAgICB9KTtcbiAgfVxuXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgYW5zaVN0eWxlcyA9IHJlcXVpcmUoJ2Fuc2ktc3R5bGVzJyk7XG5jb25zdCB7c3Rkb3V0OiBzdGRvdXRDb2xvciwgc3RkZXJyOiBzdGRlcnJDb2xvcn0gPSByZXF1aXJlKCdzdXBwb3J0cy1jb2xvcicpO1xuY29uc3Qge1xuXHRzdHJpbmdSZXBsYWNlQWxsLFxuXHRzdHJpbmdFbmNhc2VDUkxGV2l0aEZpcnN0SW5kZXhcbn0gPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuY29uc3Qge2lzQXJyYXl9ID0gQXJyYXk7XG5cbi8vIGBzdXBwb3J0c0NvbG9yLmxldmVsYCDihpIgYGFuc2lTdHlsZXMuY29sb3JbbmFtZV1gIG1hcHBpbmdcbmNvbnN0IGxldmVsTWFwcGluZyA9IFtcblx0J2Fuc2knLFxuXHQnYW5zaScsXG5cdCdhbnNpMjU2Jyxcblx0J2Fuc2kxNm0nXG5dO1xuXG5jb25zdCBzdHlsZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG5jb25zdCBhcHBseU9wdGlvbnMgPSAob2JqZWN0LCBvcHRpb25zID0ge30pID0+IHtcblx0aWYgKG9wdGlvbnMubGV2ZWwgJiYgIShOdW1iZXIuaXNJbnRlZ2VyKG9wdGlvbnMubGV2ZWwpICYmIG9wdGlvbnMubGV2ZWwgPj0gMCAmJiBvcHRpb25zLmxldmVsIDw9IDMpKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdUaGUgYGxldmVsYCBvcHRpb24gc2hvdWxkIGJlIGFuIGludGVnZXIgZnJvbSAwIHRvIDMnKTtcblx0fVxuXG5cdC8vIERldGVjdCBsZXZlbCBpZiBub3Qgc2V0IG1hbnVhbGx5XG5cdGNvbnN0IGNvbG9yTGV2ZWwgPSBzdGRvdXRDb2xvciA/IHN0ZG91dENvbG9yLmxldmVsIDogMDtcblx0b2JqZWN0LmxldmVsID0gb3B0aW9ucy5sZXZlbCA9PT0gdW5kZWZpbmVkID8gY29sb3JMZXZlbCA6IG9wdGlvbnMubGV2ZWw7XG59O1xuXG5jbGFzcyBDaGFsa0NsYXNzIHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdHJ1Y3Rvci1yZXR1cm5cblx0XHRyZXR1cm4gY2hhbGtGYWN0b3J5KG9wdGlvbnMpO1xuXHR9XG59XG5cbmNvbnN0IGNoYWxrRmFjdG9yeSA9IG9wdGlvbnMgPT4ge1xuXHRjb25zdCBjaGFsayA9IHt9O1xuXHRhcHBseU9wdGlvbnMoY2hhbGssIG9wdGlvbnMpO1xuXG5cdGNoYWxrLnRlbXBsYXRlID0gKC4uLmFyZ3VtZW50c18pID0+IGNoYWxrVGFnKGNoYWxrLnRlbXBsYXRlLCAuLi5hcmd1bWVudHNfKTtcblxuXHRPYmplY3Quc2V0UHJvdG90eXBlT2YoY2hhbGssIENoYWxrLnByb3RvdHlwZSk7XG5cdE9iamVjdC5zZXRQcm90b3R5cGVPZihjaGFsay50ZW1wbGF0ZSwgY2hhbGspO1xuXG5cdGNoYWxrLnRlbXBsYXRlLmNvbnN0cnVjdG9yID0gKCkgPT4ge1xuXHRcdHRocm93IG5ldyBFcnJvcignYGNoYWxrLmNvbnN0cnVjdG9yKClgIGlzIGRlcHJlY2F0ZWQuIFVzZSBgbmV3IGNoYWxrLkluc3RhbmNlKClgIGluc3RlYWQuJyk7XG5cdH07XG5cblx0Y2hhbGsudGVtcGxhdGUuSW5zdGFuY2UgPSBDaGFsa0NsYXNzO1xuXG5cdHJldHVybiBjaGFsay50ZW1wbGF0ZTtcbn07XG5cbmZ1bmN0aW9uIENoYWxrKG9wdGlvbnMpIHtcblx0cmV0dXJuIGNoYWxrRmFjdG9yeShvcHRpb25zKTtcbn1cblxuZm9yIChjb25zdCBbc3R5bGVOYW1lLCBzdHlsZV0gb2YgT2JqZWN0LmVudHJpZXMoYW5zaVN0eWxlcykpIHtcblx0c3R5bGVzW3N0eWxlTmFtZV0gPSB7XG5cdFx0Z2V0KCkge1xuXHRcdFx0Y29uc3QgYnVpbGRlciA9IGNyZWF0ZUJ1aWxkZXIodGhpcywgY3JlYXRlU3R5bGVyKHN0eWxlLm9wZW4sIHN0eWxlLmNsb3NlLCB0aGlzLl9zdHlsZXIpLCB0aGlzLl9pc0VtcHR5KTtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBzdHlsZU5hbWUsIHt2YWx1ZTogYnVpbGRlcn0pO1xuXHRcdFx0cmV0dXJuIGJ1aWxkZXI7XG5cdFx0fVxuXHR9O1xufVxuXG5zdHlsZXMudmlzaWJsZSA9IHtcblx0Z2V0KCkge1xuXHRcdGNvbnN0IGJ1aWxkZXIgPSBjcmVhdGVCdWlsZGVyKHRoaXMsIHRoaXMuX3N0eWxlciwgdHJ1ZSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd2aXNpYmxlJywge3ZhbHVlOiBidWlsZGVyfSk7XG5cdFx0cmV0dXJuIGJ1aWxkZXI7XG5cdH1cbn07XG5cbmNvbnN0IHVzZWRNb2RlbHMgPSBbJ3JnYicsICdoZXgnLCAna2V5d29yZCcsICdoc2wnLCAnaHN2JywgJ2h3YicsICdhbnNpJywgJ2Fuc2kyNTYnXTtcblxuZm9yIChjb25zdCBtb2RlbCBvZiB1c2VkTW9kZWxzKSB7XG5cdHN0eWxlc1ttb2RlbF0gPSB7XG5cdFx0Z2V0KCkge1xuXHRcdFx0Y29uc3Qge2xldmVsfSA9IHRoaXM7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3VtZW50c18pIHtcblx0XHRcdFx0Y29uc3Qgc3R5bGVyID0gY3JlYXRlU3R5bGVyKGFuc2lTdHlsZXMuY29sb3JbbGV2ZWxNYXBwaW5nW2xldmVsXV1bbW9kZWxdKC4uLmFyZ3VtZW50c18pLCBhbnNpU3R5bGVzLmNvbG9yLmNsb3NlLCB0aGlzLl9zdHlsZXIpO1xuXHRcdFx0XHRyZXR1cm4gY3JlYXRlQnVpbGRlcih0aGlzLCBzdHlsZXIsIHRoaXMuX2lzRW1wdHkpO1xuXHRcdFx0fTtcblx0XHR9XG5cdH07XG59XG5cbmZvciAoY29uc3QgbW9kZWwgb2YgdXNlZE1vZGVscykge1xuXHRjb25zdCBiZ01vZGVsID0gJ2JnJyArIG1vZGVsWzBdLnRvVXBwZXJDYXNlKCkgKyBtb2RlbC5zbGljZSgxKTtcblx0c3R5bGVzW2JnTW9kZWxdID0ge1xuXHRcdGdldCgpIHtcblx0XHRcdGNvbnN0IHtsZXZlbH0gPSB0aGlzO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uICguLi5hcmd1bWVudHNfKSB7XG5cdFx0XHRcdGNvbnN0IHN0eWxlciA9IGNyZWF0ZVN0eWxlcihhbnNpU3R5bGVzLmJnQ29sb3JbbGV2ZWxNYXBwaW5nW2xldmVsXV1bbW9kZWxdKC4uLmFyZ3VtZW50c18pLCBhbnNpU3R5bGVzLmJnQ29sb3IuY2xvc2UsIHRoaXMuX3N0eWxlcik7XG5cdFx0XHRcdHJldHVybiBjcmVhdGVCdWlsZGVyKHRoaXMsIHN0eWxlciwgdGhpcy5faXNFbXB0eSk7XG5cdFx0XHR9O1xuXHRcdH1cblx0fTtcbn1cblxuY29uc3QgcHJvdG8gPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcygoKSA9PiB7fSwge1xuXHQuLi5zdHlsZXMsXG5cdGxldmVsOiB7XG5cdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRnZXQoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fZ2VuZXJhdG9yLmxldmVsO1xuXHRcdH0sXG5cdFx0c2V0KGxldmVsKSB7XG5cdFx0XHR0aGlzLl9nZW5lcmF0b3IubGV2ZWwgPSBsZXZlbDtcblx0XHR9XG5cdH1cbn0pO1xuXG5jb25zdCBjcmVhdGVTdHlsZXIgPSAob3BlbiwgY2xvc2UsIHBhcmVudCkgPT4ge1xuXHRsZXQgb3BlbkFsbDtcblx0bGV0IGNsb3NlQWxsO1xuXHRpZiAocGFyZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRvcGVuQWxsID0gb3Blbjtcblx0XHRjbG9zZUFsbCA9IGNsb3NlO1xuXHR9IGVsc2Uge1xuXHRcdG9wZW5BbGwgPSBwYXJlbnQub3BlbkFsbCArIG9wZW47XG5cdFx0Y2xvc2VBbGwgPSBjbG9zZSArIHBhcmVudC5jbG9zZUFsbDtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0b3Blbixcblx0XHRjbG9zZSxcblx0XHRvcGVuQWxsLFxuXHRcdGNsb3NlQWxsLFxuXHRcdHBhcmVudFxuXHR9O1xufTtcblxuY29uc3QgY3JlYXRlQnVpbGRlciA9IChzZWxmLCBfc3R5bGVyLCBfaXNFbXB0eSkgPT4ge1xuXHRjb25zdCBidWlsZGVyID0gKC4uLmFyZ3VtZW50c18pID0+IHtcblx0XHRpZiAoaXNBcnJheShhcmd1bWVudHNfWzBdKSAmJiBpc0FycmF5KGFyZ3VtZW50c19bMF0ucmF3KSkge1xuXHRcdFx0Ly8gQ2FsbGVkIGFzIGEgdGVtcGxhdGUgbGl0ZXJhbCwgZm9yIGV4YW1wbGU6IGNoYWxrLnJlZGAyICsgMyA9IHtib2xkICR7MiszfX1gXG5cdFx0XHRyZXR1cm4gYXBwbHlTdHlsZShidWlsZGVyLCBjaGFsa1RhZyhidWlsZGVyLCAuLi5hcmd1bWVudHNfKSk7XG5cdFx0fVxuXG5cdFx0Ly8gU2luZ2xlIGFyZ3VtZW50IGlzIGhvdCBwYXRoLCBpbXBsaWNpdCBjb2VyY2lvbiBpcyBmYXN0ZXIgdGhhbiBhbnl0aGluZ1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbXBsaWNpdC1jb2VyY2lvblxuXHRcdHJldHVybiBhcHBseVN0eWxlKGJ1aWxkZXIsIChhcmd1bWVudHNfLmxlbmd0aCA9PT0gMSkgPyAoJycgKyBhcmd1bWVudHNfWzBdKSA6IGFyZ3VtZW50c18uam9pbignICcpKTtcblx0fTtcblxuXHQvLyBXZSBhbHRlciB0aGUgcHJvdG90eXBlIGJlY2F1c2Ugd2UgbXVzdCByZXR1cm4gYSBmdW5jdGlvbiwgYnV0IHRoZXJlIGlzXG5cdC8vIG5vIHdheSB0byBjcmVhdGUgYSBmdW5jdGlvbiB3aXRoIGEgZGlmZmVyZW50IHByb3RvdHlwZVxuXHRPYmplY3Quc2V0UHJvdG90eXBlT2YoYnVpbGRlciwgcHJvdG8pO1xuXG5cdGJ1aWxkZXIuX2dlbmVyYXRvciA9IHNlbGY7XG5cdGJ1aWxkZXIuX3N0eWxlciA9IF9zdHlsZXI7XG5cdGJ1aWxkZXIuX2lzRW1wdHkgPSBfaXNFbXB0eTtcblxuXHRyZXR1cm4gYnVpbGRlcjtcbn07XG5cbmNvbnN0IGFwcGx5U3R5bGUgPSAoc2VsZiwgc3RyaW5nKSA9PiB7XG5cdGlmIChzZWxmLmxldmVsIDw9IDAgfHwgIXN0cmluZykge1xuXHRcdHJldHVybiBzZWxmLl9pc0VtcHR5ID8gJycgOiBzdHJpbmc7XG5cdH1cblxuXHRsZXQgc3R5bGVyID0gc2VsZi5fc3R5bGVyO1xuXG5cdGlmIChzdHlsZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBzdHJpbmc7XG5cdH1cblxuXHRjb25zdCB7b3BlbkFsbCwgY2xvc2VBbGx9ID0gc3R5bGVyO1xuXHRpZiAoc3RyaW5nLmluZGV4T2YoJ1xcdTAwMUInKSAhPT0gLTEpIHtcblx0XHR3aGlsZSAoc3R5bGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIFJlcGxhY2UgYW55IGluc3RhbmNlcyBhbHJlYWR5IHByZXNlbnQgd2l0aCBhIHJlLW9wZW5pbmcgY29kZVxuXHRcdFx0Ly8gb3RoZXJ3aXNlIG9ubHkgdGhlIHBhcnQgb2YgdGhlIHN0cmluZyB1bnRpbCBzYWlkIGNsb3NpbmcgY29kZVxuXHRcdFx0Ly8gd2lsbCBiZSBjb2xvcmVkLCBhbmQgdGhlIHJlc3Qgd2lsbCBzaW1wbHkgYmUgJ3BsYWluJy5cblx0XHRcdHN0cmluZyA9IHN0cmluZ1JlcGxhY2VBbGwoc3RyaW5nLCBzdHlsZXIuY2xvc2UsIHN0eWxlci5vcGVuKTtcblxuXHRcdFx0c3R5bGVyID0gc3R5bGVyLnBhcmVudDtcblx0XHR9XG5cdH1cblxuXHQvLyBXZSBjYW4gbW92ZSBib3RoIG5leHQgYWN0aW9ucyBvdXQgb2YgbG9vcCwgYmVjYXVzZSByZW1haW5pbmcgYWN0aW9ucyBpbiBsb29wIHdvbid0IGhhdmVcblx0Ly8gYW55L3Zpc2libGUgZWZmZWN0IG9uIHBhcnRzIHdlIGFkZCBoZXJlLiBDbG9zZSB0aGUgc3R5bGluZyBiZWZvcmUgYSBsaW5lYnJlYWsgYW5kIHJlb3BlblxuXHQvLyBhZnRlciBuZXh0IGxpbmUgdG8gZml4IGEgYmxlZWQgaXNzdWUgb24gbWFjT1M6IGh0dHBzOi8vZ2l0aHViLmNvbS9jaGFsay9jaGFsay9wdWxsLzkyXG5cdGNvbnN0IGxmSW5kZXggPSBzdHJpbmcuaW5kZXhPZignXFxuJyk7XG5cdGlmIChsZkluZGV4ICE9PSAtMSkge1xuXHRcdHN0cmluZyA9IHN0cmluZ0VuY2FzZUNSTEZXaXRoRmlyc3RJbmRleChzdHJpbmcsIGNsb3NlQWxsLCBvcGVuQWxsLCBsZkluZGV4KTtcblx0fVxuXG5cdHJldHVybiBvcGVuQWxsICsgc3RyaW5nICsgY2xvc2VBbGw7XG59O1xuXG5sZXQgdGVtcGxhdGU7XG5jb25zdCBjaGFsa1RhZyA9IChjaGFsaywgLi4uc3RyaW5ncykgPT4ge1xuXHRjb25zdCBbZmlyc3RTdHJpbmddID0gc3RyaW5ncztcblxuXHRpZiAoIWlzQXJyYXkoZmlyc3RTdHJpbmcpIHx8ICFpc0FycmF5KGZpcnN0U3RyaW5nLnJhdykpIHtcblx0XHQvLyBJZiBjaGFsaygpIHdhcyBjYWxsZWQgYnkgaXRzZWxmIG9yIHdpdGggYSBzdHJpbmcsXG5cdFx0Ly8gcmV0dXJuIHRoZSBzdHJpbmcgaXRzZWxmIGFzIGEgc3RyaW5nLlxuXHRcdHJldHVybiBzdHJpbmdzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGNvbnN0IGFyZ3VtZW50c18gPSBzdHJpbmdzLnNsaWNlKDEpO1xuXHRjb25zdCBwYXJ0cyA9IFtmaXJzdFN0cmluZy5yYXdbMF1dO1xuXG5cdGZvciAobGV0IGkgPSAxOyBpIDwgZmlyc3RTdHJpbmcubGVuZ3RoOyBpKyspIHtcblx0XHRwYXJ0cy5wdXNoKFxuXHRcdFx0U3RyaW5nKGFyZ3VtZW50c19baSAtIDFdKS5yZXBsYWNlKC9be31cXFxcXS9nLCAnXFxcXCQmJyksXG5cdFx0XHRTdHJpbmcoZmlyc3RTdHJpbmcucmF3W2ldKVxuXHRcdCk7XG5cdH1cblxuXHRpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRlbXBsYXRlID0gcmVxdWlyZSgnLi90ZW1wbGF0ZXMnKTtcblx0fVxuXG5cdHJldHVybiB0ZW1wbGF0ZShjaGFsaywgcGFydHMuam9pbignJykpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQ2hhbGsucHJvdG90eXBlLCBzdHlsZXMpO1xuXG5jb25zdCBjaGFsayA9IENoYWxrKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbmV3LWNhcFxuY2hhbGsuc3VwcG9ydHNDb2xvciA9IHN0ZG91dENvbG9yO1xuY2hhbGsuc3RkZXJyID0gQ2hhbGsoe2xldmVsOiBzdGRlcnJDb2xvciA/IHN0ZGVyckNvbG9yLmxldmVsIDogMH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcbmNoYWxrLnN0ZGVyci5zdXBwb3J0c0NvbG9yID0gc3RkZXJyQ29sb3I7XG5cbm1vZHVsZS5leHBvcnRzID0gY2hhbGs7XG4iLCIndXNlIHN0cmljdCc7XG5jb25zdCBURU1QTEFURV9SRUdFWCA9IC8oPzpcXFxcKHUoPzpbYS1mXFxkXXs0fXxcXHtbYS1mXFxkXXsxLDZ9XFx9KXx4W2EtZlxcZF17Mn18LikpfCg/Olxceyh+KT8oXFx3Kyg/OlxcKFteKV0qXFwpKT8oPzpcXC5cXHcrKD86XFwoW14pXSpcXCkpPykqKSg/OlsgXFx0XXwoPz1cXHI/XFxuKSkpfChcXH0pfCgoPzoufFtcXHJcXG5cXGZdKSs/KS9naTtcbmNvbnN0IFNUWUxFX1JFR0VYID0gLyg/Ol58XFwuKShcXHcrKSg/OlxcKChbXildKilcXCkpPy9nO1xuY29uc3QgU1RSSU5HX1JFR0VYID0gL14oWydcIl0pKCg/OlxcXFwufCg/IVxcMSlbXlxcXFxdKSopXFwxJC87XG5jb25zdCBFU0NBUEVfUkVHRVggPSAvXFxcXCh1KD86W2EtZlxcZF17NH18e1thLWZcXGRdezEsNn19KXx4W2EtZlxcZF17Mn18Lil8KFteXFxcXF0pL2dpO1xuXG5jb25zdCBFU0NBUEVTID0gbmV3IE1hcChbXG5cdFsnbicsICdcXG4nXSxcblx0WydyJywgJ1xcciddLFxuXHRbJ3QnLCAnXFx0J10sXG5cdFsnYicsICdcXGInXSxcblx0WydmJywgJ1xcZiddLFxuXHRbJ3YnLCAnXFx2J10sXG5cdFsnMCcsICdcXDAnXSxcblx0WydcXFxcJywgJ1xcXFwnXSxcblx0WydlJywgJ1xcdTAwMUInXSxcblx0WydhJywgJ1xcdTAwMDcnXVxuXSk7XG5cbmZ1bmN0aW9uIHVuZXNjYXBlKGMpIHtcblx0Y29uc3QgdSA9IGNbMF0gPT09ICd1Jztcblx0Y29uc3QgYnJhY2tldCA9IGNbMV0gPT09ICd7JztcblxuXHRpZiAoKHUgJiYgIWJyYWNrZXQgJiYgYy5sZW5ndGggPT09IDUpIHx8IChjWzBdID09PSAneCcgJiYgYy5sZW5ndGggPT09IDMpKSB7XG5cdFx0cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoYy5zbGljZSgxKSwgMTYpKTtcblx0fVxuXG5cdGlmICh1ICYmIGJyYWNrZXQpIHtcblx0XHRyZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQocGFyc2VJbnQoYy5zbGljZSgyLCAtMSksIDE2KSk7XG5cdH1cblxuXHRyZXR1cm4gRVNDQVBFUy5nZXQoYykgfHwgYztcbn1cblxuZnVuY3Rpb24gcGFyc2VBcmd1bWVudHMobmFtZSwgYXJndW1lbnRzXykge1xuXHRjb25zdCByZXN1bHRzID0gW107XG5cdGNvbnN0IGNodW5rcyA9IGFyZ3VtZW50c18udHJpbSgpLnNwbGl0KC9cXHMqLFxccyovZyk7XG5cdGxldCBtYXRjaGVzO1xuXG5cdGZvciAoY29uc3QgY2h1bmsgb2YgY2h1bmtzKSB7XG5cdFx0Y29uc3QgbnVtYmVyID0gTnVtYmVyKGNodW5rKTtcblx0XHRpZiAoIU51bWJlci5pc05hTihudW1iZXIpKSB7XG5cdFx0XHRyZXN1bHRzLnB1c2gobnVtYmVyKTtcblx0XHR9IGVsc2UgaWYgKChtYXRjaGVzID0gY2h1bmsubWF0Y2goU1RSSU5HX1JFR0VYKSkpIHtcblx0XHRcdHJlc3VsdHMucHVzaChtYXRjaGVzWzJdLnJlcGxhY2UoRVNDQVBFX1JFR0VYLCAobSwgZXNjYXBlLCBjaGFyYWN0ZXIpID0+IGVzY2FwZSA/IHVuZXNjYXBlKGVzY2FwZSkgOiBjaGFyYWN0ZXIpKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIENoYWxrIHRlbXBsYXRlIHN0eWxlIGFyZ3VtZW50OiAke2NodW5rfSAoaW4gc3R5bGUgJyR7bmFtZX0nKWApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXN1bHRzO1xufVxuXG5mdW5jdGlvbiBwYXJzZVN0eWxlKHN0eWxlKSB7XG5cdFNUWUxFX1JFR0VYLmxhc3RJbmRleCA9IDA7XG5cblx0Y29uc3QgcmVzdWx0cyA9IFtdO1xuXHRsZXQgbWF0Y2hlcztcblxuXHR3aGlsZSAoKG1hdGNoZXMgPSBTVFlMRV9SRUdFWC5leGVjKHN0eWxlKSkgIT09IG51bGwpIHtcblx0XHRjb25zdCBuYW1lID0gbWF0Y2hlc1sxXTtcblxuXHRcdGlmIChtYXRjaGVzWzJdKSB7XG5cdFx0XHRjb25zdCBhcmdzID0gcGFyc2VBcmd1bWVudHMobmFtZSwgbWF0Y2hlc1syXSk7XG5cdFx0XHRyZXN1bHRzLnB1c2goW25hbWVdLmNvbmNhdChhcmdzKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdHMucHVzaChbbmFtZV0pO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXN1bHRzO1xufVxuXG5mdW5jdGlvbiBidWlsZFN0eWxlKGNoYWxrLCBzdHlsZXMpIHtcblx0Y29uc3QgZW5hYmxlZCA9IHt9O1xuXG5cdGZvciAoY29uc3QgbGF5ZXIgb2Ygc3R5bGVzKSB7XG5cdFx0Zm9yIChjb25zdCBzdHlsZSBvZiBsYXllci5zdHlsZXMpIHtcblx0XHRcdGVuYWJsZWRbc3R5bGVbMF1dID0gbGF5ZXIuaW52ZXJzZSA/IG51bGwgOiBzdHlsZS5zbGljZSgxKTtcblx0XHR9XG5cdH1cblxuXHRsZXQgY3VycmVudCA9IGNoYWxrO1xuXHRmb3IgKGNvbnN0IFtzdHlsZU5hbWUsIHN0eWxlc10gb2YgT2JqZWN0LmVudHJpZXMoZW5hYmxlZCkpIHtcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGVzKSkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKCEoc3R5bGVOYW1lIGluIGN1cnJlbnQpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gQ2hhbGsgc3R5bGU6ICR7c3R5bGVOYW1lfWApO1xuXHRcdH1cblxuXHRcdGN1cnJlbnQgPSBzdHlsZXMubGVuZ3RoID4gMCA/IGN1cnJlbnRbc3R5bGVOYW1lXSguLi5zdHlsZXMpIDogY3VycmVudFtzdHlsZU5hbWVdO1xuXHR9XG5cblx0cmV0dXJuIGN1cnJlbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gKGNoYWxrLCB0ZW1wb3JhcnkpID0+IHtcblx0Y29uc3Qgc3R5bGVzID0gW107XG5cdGNvbnN0IGNodW5rcyA9IFtdO1xuXHRsZXQgY2h1bmsgPSBbXTtcblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXBhcmFtc1xuXHR0ZW1wb3JhcnkucmVwbGFjZShURU1QTEFURV9SRUdFWCwgKG0sIGVzY2FwZUNoYXJhY3RlciwgaW52ZXJzZSwgc3R5bGUsIGNsb3NlLCBjaGFyYWN0ZXIpID0+IHtcblx0XHRpZiAoZXNjYXBlQ2hhcmFjdGVyKSB7XG5cdFx0XHRjaHVuay5wdXNoKHVuZXNjYXBlKGVzY2FwZUNoYXJhY3RlcikpO1xuXHRcdH0gZWxzZSBpZiAoc3R5bGUpIHtcblx0XHRcdGNvbnN0IHN0cmluZyA9IGNodW5rLmpvaW4oJycpO1xuXHRcdFx0Y2h1bmsgPSBbXTtcblx0XHRcdGNodW5rcy5wdXNoKHN0eWxlcy5sZW5ndGggPT09IDAgPyBzdHJpbmcgOiBidWlsZFN0eWxlKGNoYWxrLCBzdHlsZXMpKHN0cmluZykpO1xuXHRcdFx0c3R5bGVzLnB1c2goe2ludmVyc2UsIHN0eWxlczogcGFyc2VTdHlsZShzdHlsZSl9KTtcblx0XHR9IGVsc2UgaWYgKGNsb3NlKSB7XG5cdFx0XHRpZiAoc3R5bGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIGV4dHJhbmVvdXMgfSBpbiBDaGFsayB0ZW1wbGF0ZSBsaXRlcmFsJyk7XG5cdFx0XHR9XG5cblx0XHRcdGNodW5rcy5wdXNoKGJ1aWxkU3R5bGUoY2hhbGssIHN0eWxlcykoY2h1bmsuam9pbignJykpKTtcblx0XHRcdGNodW5rID0gW107XG5cdFx0XHRzdHlsZXMucG9wKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNodW5rLnB1c2goY2hhcmFjdGVyKTtcblx0XHR9XG5cdH0pO1xuXG5cdGNodW5rcy5wdXNoKGNodW5rLmpvaW4oJycpKTtcblxuXHRpZiAoc3R5bGVzLmxlbmd0aCA+IDApIHtcblx0XHRjb25zdCBlcnJNZXNzYWdlID0gYENoYWxrIHRlbXBsYXRlIGxpdGVyYWwgaXMgbWlzc2luZyAke3N0eWxlcy5sZW5ndGh9IGNsb3NpbmcgYnJhY2tldCR7c3R5bGVzLmxlbmd0aCA9PT0gMSA/ICcnIDogJ3MnfSAoXFxgfVxcYClgO1xuXHRcdHRocm93IG5ldyBFcnJvcihlcnJNZXNzYWdlKTtcblx0fVxuXG5cdHJldHVybiBjaHVua3Muam9pbignJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBzdHJpbmdSZXBsYWNlQWxsID0gKHN0cmluZywgc3Vic3RyaW5nLCByZXBsYWNlcikgPT4ge1xuXHRsZXQgaW5kZXggPSBzdHJpbmcuaW5kZXhPZihzdWJzdHJpbmcpO1xuXHRpZiAoaW5kZXggPT09IC0xKSB7XG5cdFx0cmV0dXJuIHN0cmluZztcblx0fVxuXG5cdGNvbnN0IHN1YnN0cmluZ0xlbmd0aCA9IHN1YnN0cmluZy5sZW5ndGg7XG5cdGxldCBlbmRJbmRleCA9IDA7XG5cdGxldCByZXR1cm5WYWx1ZSA9ICcnO1xuXHRkbyB7XG5cdFx0cmV0dXJuVmFsdWUgKz0gc3RyaW5nLnN1YnN0cihlbmRJbmRleCwgaW5kZXggLSBlbmRJbmRleCkgKyBzdWJzdHJpbmcgKyByZXBsYWNlcjtcblx0XHRlbmRJbmRleCA9IGluZGV4ICsgc3Vic3RyaW5nTGVuZ3RoO1xuXHRcdGluZGV4ID0gc3RyaW5nLmluZGV4T2Yoc3Vic3RyaW5nLCBlbmRJbmRleCk7XG5cdH0gd2hpbGUgKGluZGV4ICE9PSAtMSk7XG5cblx0cmV0dXJuVmFsdWUgKz0gc3RyaW5nLnN1YnN0cihlbmRJbmRleCk7XG5cdHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbmNvbnN0IHN0cmluZ0VuY2FzZUNSTEZXaXRoRmlyc3RJbmRleCA9IChzdHJpbmcsIHByZWZpeCwgcG9zdGZpeCwgaW5kZXgpID0+IHtcblx0bGV0IGVuZEluZGV4ID0gMDtcblx0bGV0IHJldHVyblZhbHVlID0gJyc7XG5cdGRvIHtcblx0XHRjb25zdCBnb3RDUiA9IHN0cmluZ1tpbmRleCAtIDFdID09PSAnXFxyJztcblx0XHRyZXR1cm5WYWx1ZSArPSBzdHJpbmcuc3Vic3RyKGVuZEluZGV4LCAoZ290Q1IgPyBpbmRleCAtIDEgOiBpbmRleCkgLSBlbmRJbmRleCkgKyBwcmVmaXggKyAoZ290Q1IgPyAnXFxyXFxuJyA6ICdcXG4nKSArIHBvc3RmaXg7XG5cdFx0ZW5kSW5kZXggPSBpbmRleCArIDE7XG5cdFx0aW5kZXggPSBzdHJpbmcuaW5kZXhPZignXFxuJywgZW5kSW5kZXgpO1xuXHR9IHdoaWxlIChpbmRleCAhPT0gLTEpO1xuXG5cdHJldHVyblZhbHVlICs9IHN0cmluZy5zdWJzdHIoZW5kSW5kZXgpO1xuXHRyZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0c3RyaW5nUmVwbGFjZUFsbCxcblx0c3RyaW5nRW5jYXNlQ1JMRldpdGhGaXJzdEluZGV4XG59O1xuIl0sIm5hbWVzIjpbIndyYXBBbnNpMTYiLCJmbiIsIm9mZnNldCIsImFyZ3MiLCJ3cmFwQW5zaTI1NiIsImNvZGUiLCJ3cmFwQW5zaTE2bSIsInJnYiIsImFuc2kyYW5zaSIsIm4iLCJyZ2IycmdiIiwiciIsImciLCJiIiwic2V0TGF6eVByb3BlcnR5Iiwib2JqZWN0IiwicHJvcGVydHkiLCJnZXQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImNvbG9yQ29udmVydCIsIm1ha2VEeW5hbWljU3R5bGVzIiwid3JhcCIsInRhcmdldFNwYWNlIiwiaWRlbnRpdHkiLCJpc0JhY2tncm91bmQiLCJ1bmRlZmluZWQiLCJzdHlsZXMiLCJzb3VyY2VTcGFjZSIsInN1aXRlIiwiZW50cmllcyIsIm5hbWUiLCJtb2R1bGUiLCJjb2RlcyIsIk1hcCIsIm1vZGlmaWVyIiwicmVzZXQiLCJib2xkIiwiZGltIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiaW52ZXJzZSIsImhpZGRlbiIsInN0cmlrZXRocm91Z2giLCJjb2xvciIsImJsYWNrIiwicmVkIiwiZ3JlZW4iLCJ5ZWxsb3ciLCJibHVlIiwibWFnZW50YSIsImN5YW4iLCJ3aGl0ZSIsImJsYWNrQnJpZ2h0IiwicmVkQnJpZ2h0IiwiZ3JlZW5CcmlnaHQiLCJ5ZWxsb3dCcmlnaHQiLCJibHVlQnJpZ2h0IiwibWFnZW50YUJyaWdodCIsImN5YW5CcmlnaHQiLCJ3aGl0ZUJyaWdodCIsImJnQ29sb3IiLCJiZ0JsYWNrIiwiYmdSZWQiLCJiZ0dyZWVuIiwiYmdZZWxsb3ciLCJiZ0JsdWUiLCJiZ01hZ2VudGEiLCJiZ0N5YW4iLCJiZ1doaXRlIiwiYmdCbGFja0JyaWdodCIsImJnUmVkQnJpZ2h0IiwiYmdHcmVlbkJyaWdodCIsImJnWWVsbG93QnJpZ2h0IiwiYmdCbHVlQnJpZ2h0IiwiYmdNYWdlbnRhQnJpZ2h0IiwiYmdDeWFuQnJpZ2h0IiwiYmdXaGl0ZUJyaWdodCIsImdyYXkiLCJiZ0dyYXkiLCJncmV5IiwiYmdHcmV5IiwiZ3JvdXBOYW1lIiwiZ3JvdXAiLCJzdHlsZU5hbWUiLCJzdHlsZSIsIm9wZW4iLCJjbG9zZSIsInNldCIsImV4cG9ydHMiLCJzdGRvdXQiLCJzdGRlcnIiLCJmbGFnRW5hYmxlZCIsImNvbmZpZyIsImZsYWciLCJmZWF0dXJlRmxhZ3MiLCJmdXR1cmUiLCJpbmNsdWRlcyIsIl9sb2Rhc2giLCJkZWZhdWx0IiwiZXhwZXJpbWVudGFsIiwiaXNzdWVGbGFnTm90aWNlcyIsInByb2Nlc3MiLCJlbnYiLCJKRVNUX1dPUktFUl9JRCIsImV4cGVyaW1lbnRhbEZsYWdzRW5hYmxlZCIsImxlbmd0aCIsImNoYW5nZXMiLCJtYXAiLCJzIiwiX2NoYWxrIiwiam9pbiIsIl9sb2ciLCJ3YXJuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJrZXlzIiwiZmlsdGVyIiwiX2RlZmF1bHQiLCJpbmZvIiwibWVzc2FnZXMiLCJjb25zb2xlIiwiZm9yRWFjaCIsIm1lc3NhZ2UiLCJyaXNrIiwiYW5zaVN0eWxlcyIsInN0ZG91dENvbG9yIiwic3RkZXJyQ29sb3IiLCJzdHJpbmdSZXBsYWNlQWxsIiwic3RyaW5nRW5jYXNlQ1JMRldpdGhGaXJzdEluZGV4IiwiaXNBcnJheSIsIkFycmF5IiwibGV2ZWxNYXBwaW5nIiwiY3JlYXRlIiwiQ2hhbGtDbGFzcyIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImNoYWxrRmFjdG9yeSIsImNoYWxrIiwibGV2ZWwiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJFcnJvciIsImNvbG9yTGV2ZWwiLCJhcHBseU9wdGlvbnMiLCJ0ZW1wbGF0ZSIsImFyZ3VtZW50c18iLCJjaGFsa1RhZyIsInNldFByb3RvdHlwZU9mIiwiQ2hhbGsiLCJwcm90b3R5cGUiLCJJbnN0YW5jZSIsImJ1aWxkZXIiLCJjcmVhdGVCdWlsZGVyIiwidGhpcyIsImNyZWF0ZVN0eWxlciIsIl9zdHlsZXIiLCJfaXNFbXB0eSIsInZpc2libGUiLCJ1c2VkTW9kZWxzIiwibW9kZWwiLCJzdHlsZXIiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwicHJvdG8iLCJkZWZpbmVQcm9wZXJ0aWVzIiwiX2dlbmVyYXRvciIsInBhcmVudCIsIm9wZW5BbGwiLCJjbG9zZUFsbCIsInNlbGYiLCJyYXciLCJhcHBseVN0eWxlIiwic3RyaW5nIiwiaW5kZXhPZiIsImxmSW5kZXgiLCJzdHJpbmdzIiwiZmlyc3RTdHJpbmciLCJwYXJ0cyIsImkiLCJwdXNoIiwiU3RyaW5nIiwicmVwbGFjZSIsInN1cHBvcnRzQ29sb3IiLCJURU1QTEFURV9SRUdFWCIsIlNUWUxFX1JFR0VYIiwiU1RSSU5HX1JFR0VYIiwiRVNDQVBFX1JFR0VYIiwiRVNDQVBFUyIsInVuZXNjYXBlIiwiYyIsInUiLCJicmFja2V0IiwiZnJvbUNoYXJDb2RlIiwicGFyc2VJbnQiLCJmcm9tQ29kZVBvaW50IiwicGFyc2VBcmd1bWVudHMiLCJyZXN1bHRzIiwiY2h1bmtzIiwidHJpbSIsInNwbGl0IiwibWF0Y2hlcyIsImNodW5rIiwibnVtYmVyIiwiaXNOYU4iLCJtYXRjaCIsIm0iLCJlc2NhcGUiLCJjaGFyYWN0ZXIiLCJwYXJzZVN0eWxlIiwibGFzdEluZGV4IiwiZXhlYyIsImNvbmNhdCIsImJ1aWxkU3R5bGUiLCJlbmFibGVkIiwibGF5ZXIiLCJjdXJyZW50IiwidGVtcG9yYXJ5IiwiZXNjYXBlQ2hhcmFjdGVyIiwicG9wIiwiZXJyTWVzc2FnZSIsInN1YnN0cmluZyIsInJlcGxhY2VyIiwiaW5kZXgiLCJzdWJzdHJpbmdMZW5ndGgiLCJlbmRJbmRleCIsInJldHVyblZhbHVlIiwic3Vic3RyIiwicHJlZml4IiwicG9zdGZpeCIsImdvdENSIl0sInNvdXJjZVJvb3QiOiIifQ==